(this.webpackJsonpgeo_game=this.webpackJsonpgeo_game||[]).push([[3],{43:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(17),a=r(18),s=r(20),c=r(19),o=r(1),i=r.n(o),l=r(0),u=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={hasError:!1},e}return Object(a.a)(r,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(l.jsx)("div",{className:"error_message",children:"Something went wrong. Please try refreshing the page."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(i.a.Component)},44:function(e,t,r){"use strict";r(1);var n=r(2),a=r(0);t.a=function(){return Object(a.jsxs)("article",{children:[Object(a.jsxs)("div",{className:n.rb,children:[Object(a.jsx)("span",{className:n.qb,children:"Objective of the game "})," is to score points by guessing the countries correctly in each card."]}),Object(a.jsxs)("div",{className:n.rb,children:[Object(a.jsx)("span",{className:n.qb,children:"Choose the correct option"})," from a total of ",n.K," choices."]}),Object(a.jsxs)("div",{className:n.rb,children:[Object(a.jsx)("span",{className:n.qb,children:"Three clues "})," are provided for each country."]}),Object(a.jsxs)("div",{className:n.rb,children:[Object(a.jsx)("span",{className:n.qb,children:"Additional hints "}),' in the form of questions and answers are provided. Click "View More Hints" to view them. You can view upto ',n.fb," answers to these hints for free. Viewing additional answers cost you ",n.ac," points."]})]})}},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return N}));var n=r(8),a=r.n(n),s=r(10),c=r(17),o=r(18),i=r(20),l=r(19),u=r(1),p=r.n(u),d=r(2),h=(r(47),r(0)),b=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).getCountryName=function(){return e.props.country&&e.props.country.name?e.props.country.name:""},e.getImageInfoURL=function(){return e.props.country&&e.props.country.image_info&&e.props.country.image_info.url?e.props.country.image_info.url:""},e.getImageURL=function(){return e.props.country&&e.props.country.id?d.Ab+"/"+e.props.country.id+".webp":""},e.getPhotographer=function(){return e.props.country&&e.props.country.image_info&&e.props.country.image_info.photographer?e.props.country.image_info.photographer:""},e}return Object(o.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:d.tb,children:[Object(h.jsxs)("div",{className:d.Lc+" "+(this.props.ansClicked?d.yb:d.xc),children:[Object(h.jsx)("img",{className:d.xb,src:"".concat(d.zb,"/hero-image-world.svg"),alt:"world map"}),Object(h.jsx)("img",{className:d.ub,src:"".concat(d.zb,"/hero-image-person1.svg"),alt:"person1"}),Object(h.jsx)("img",{className:d.vb,src:"".concat(d.zb,"/hero-image-person2.svg"),alt:"person2"}),Object(h.jsx)("img",{className:d.wb,src:"".concat(d.zb,"/hero-image-person3.svg"),alt:"person3"})]}),Object(h.jsxs)("div",{className:d.e+" "+(this.props.ansClicked?d.xc:d.yb),children:[Object(h.jsx)("img",{src:this.getImageURL(),alt:"Answer"}),Object(h.jsxs)("div",{className:d.bc,children:[Object(h.jsx)("span",{children:"Photo by "}),Object(h.jsx)("a",{href:this.getImageInfoURL(),rel:"noreferrer",target:"_blank",children:this.getPhotographer()})]}),Object(h.jsx)("div",{className:d.d,children:this.getCountryName()})]})]})}}]),r}(p.a.Component),f=(r(48),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={randomized:!1,countries:[]},e.loadChoicesFromLocalStorage=Object(s.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=e.props.loadFromLocalStorage(d.I))){t.next=5;break}return t.next=4,e.setState({countries:r,randomized:!0});case 4:return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)}))),e.loadChoices=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadChoicesFromLocalStorage();case 2:if(t.sent){t.next=6;break}return t.next=6,e.fetchChoices();case 6:case"end":return t.stop()}}),t)}))),e.fetchChoices=Object(s.a)(a.a.mark((function t(){var r,n,s,c,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.fetchCountryList(d.K-1,e.props.countryID);case 2:if(!(r=t.sent)||200!==r.status){t.next=12;break}for(n=r.json.result,(s=n.map((function(e){return e.name}))).push(e.props.countryName),c=s.length-1;c>0;c--)o=Math.floor(Math.random()*(c+1)),i=[s[o],s[c]],s[c]=i[0],s[o]=i[1];return t.next=10,e.setState({countries:s,randomized:!0},(function(){e.props.saveToLocalStorage(d.I,e.state.countries)}));case 10:t.next=18;break;case 12:if(!r||500!==r.status){t.next=16;break}e.props.setNetworkError(),t.next=18;break;case 16:return console.error(r),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)}))),e.processAns=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.ansClicked){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.props.setAnsClicked();case 4:return t.next=6,e.props.setClickedAns(r);case 6:return t.next=8,e.props.updateScoreAndCount();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClassNames=function(t){var r="";return e.props.ansClicked?(r+=" "+d.n,e.props.countryName===t?r+=" "+d.P:e.props.clickedAns!==t?r:r+=" "+d.Mc):r},e.renderChoices=function(){return e.state.countries.length<d.K?Object(h.jsx)("div",{children:"Fewer than "+d.K+" countries available. Please add more countries"}):Object(h.jsx)("div",{className:d.J,children:e.state.countries.map((function(t){return Object(h.jsx)("button",{className:d.i+" "+d.v+" "+d.I+" "+e.getClassNames(t),id:t,onClick:function(){e.processAns(t)},children:t},t)}))})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){console.log(this.props.countryName),this.loadChoices()}},{key:"render",value:function(){return Object(h.jsx)("article",{className:d.I+" "+d.N,children:this.state.randomized?Object(h.jsx)("div",{children:this.renderChoices()}):Object(h.jsx)("div",{children:"Initializing choices..."})})}}]),r}(p.a.Component)),j=(r(49),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={randomized:!1,clues:[]},e.randomizeClues=function(){var t=e.props.getClues();if(t){for(var r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),a=[t[n],t[r]];t[r]=a[0],t[n]=a[1]}e.setState({randomized:!0,clues:t})}else console.error("Clues are empty or null")},e.renderClues=function(){return e.state.clues.length<3?Object(h.jsx)("div",{}):Object(h.jsx)("ul",{children:e.state.clues.slice(0,3).map((function(e){return Object(h.jsx)("li",{children:e},e)}))})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.randomizeClues()}},{key:"render",value:function(){return Object(h.jsx)("article",{className:d.M,children:this.state.randomized?Object(h.jsx)("div",{children:this.renderClues()}):Object(h.jsx)("div",{children:"Initializing clues..."})})}}]),r}(p.a.Component)),m=r(44),x=r(14);r(50);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(51);var O=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={qAnsVisible:!1,randomized:!1,qAns:[],freeAns:d.fb,ansViewed:[],animationInProgress:!1},e.loadQAStateFromLocalStorage=Object(s.a)(a.a.mark((function t(){var r,n,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.loadFromLocalStorage(d.gc),n=e.props.loadFromLocalStorage(d.eb),s=e.props.loadFromLocalStorage(d.b),null===n||null===r||null===s){t.next=7;break}return t.next=6,e.setState({randomized:!0,qAns:r,freeAns:n,ansViewed:s});case 6:return t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)}))),e.randomizeQAns=Object(s.a)(a.a.mark((function t(){var r,n,s,c,o,i,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadQAStateFromLocalStorage();case 2:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(r=e.props.getQAns()){t.next=9;break}return console.error("Question answers are empty or null"),t.abrupt("return");case 9:for(n=[],s=0;s<r.length;s++)n.push(s),e.state.ansViewed.push(!1);for(c=n.length-1;c>0;c--)o=Math.floor(Math.random()*(c+1)),i=[n[o],n[c]],n[c]=i[0],n[o]=i[1];return l=[],n.forEach((function(e){l.push(r[e])})),t.next=16,e.setState({randomized:!0,qAns:l},(function(){e.props.saveToLocalStorage(d.gc,e.state.qAns)}));case 16:case"end":return t.stop()}}),t)}))),e.setAnsViewed=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.ansViewed[r]&&!e.props.ansClicked){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.setState((function(e){var t=v(e.ansViewed);return t[r]=!0,{ansViewed:t,freeAns:e.freeAns-1,animationInProgress:!1}}),Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.saveToLocalStorage(d.eb,e.state.freeAns),e.props.saveToLocalStorage(d.b,e.state.ansViewed),!(e.state.freeAns<0)){t.next=10;break}return t.next=5,e.props.decrementScore();case 5:return t.next=7,e.setState({animationInProgress:!0});case 7:return t.next=9,Object(d.Oc)(.4);case 9:e.setState({animationInProgress:!1});case 10:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderQAns=function(){return e.state.qAns.length<1?Object(h.jsx)("div",{}):Object(h.jsx)("ul",{className:d.ic,children:e.state.qAns.map((function(t,r){return Object(h.jsxs)("li",{className:d.pc,children:[Object(h.jsx)("span",{className:d.kc,children:t.question}),Object(h.jsxs)("button",{className:d.oc+" "+d.i+" "+d.u+" "+(e.state.ansViewed[r]?t.ans?d.g:d.f:" ")+(e.props.ansClicked?" "+d.n:""),onClick:function(){return e.setAnsViewed(r)},children:[Object(h.jsx)("span",{className:d.Gc+" "+(e.state.ansViewed[r]?d.yb:d.xc),children:"View answer"}),Object(h.jsx)("span",{className:d.c+" "+(e.state.ansViewed[r]?d.xc:d.yb),children:t.ans?"Yes":"No"})]})]},t.question)}))})},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.randomizeQAns()}},{key:"render",value:function(){return Object(h.jsx)("article",{id:"QuestionAns",className:d.jc,children:this.state.randomized?Object(h.jsxs)("div",{className:d.qc+" "+(this.props.qAnsVisible?d.zc:d.yb),children:[this.props.ansClicked?Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:d.oc+" "+d.Cc,children:"Hints you viewed"}),Object(h.jsx)("div",{className:d.E,children:Object(h.jsxs)("div",{className:d.G,children:["Scored: ",this.props.score," points"]})})]}):Object(h.jsxs)("div",{className:d.E,children:[Object(h.jsxs)("div",{className:d.G,children:["Scorable points: ",this.props.score]}),Object(h.jsxs)("div",{className:d.G+" "+d.F+" "+(this.state.animationInProgress?d.bb:""),children:["-",d.ac]}),this.state.freeAns>0?Object(h.jsxs)("h3",{className:d.oc+" "+d.Cc,children:["View ",this.state.freeAns," hints for free"]}):Object(h.jsxs)("h3",{className:d.oc+" "+d.Cc,children:["Hints costs ",d.ac," points"]})]}),this.renderQAns()]}):Object(h.jsx)("div",{className:d.Gb,children:"Loading Hints..."})})}}]),r}(p.a.Component),k=(r(52),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:d.R,children:[Object(h.jsxs)("div",{className:d.Q+" "+(this.props.ansIsCorrect()?d.Ac:d.yb),children:[Object(h.jsx)("img",{src:"".concat(d.zb,"/tick_mark.svg"),alt:"tick mark"})," ",Object(h.jsx)("span",{children:"Correct"})]}),Object(h.jsxs)("div",{className:d.Nc+" "+(this.props.ansIsCorrect()?d.yb:d.Ac),children:[Object(h.jsx)("img",{src:"".concat(d.zb,"/cross_mark.svg"),alt:"cross mark"})," ",Object(h.jsx)("span",{children:"Wrong"})]})]})}}]),r}(p.a.Component)),C=(r(53),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleYes=function(t){t.preventDefault(),t.stopPropagation(),e.props.handleYes(t)},e.handleNo=function(t){e.props.handleNo(t)},e.doNothing=function(e){e.preventDefault(),e.stopPropagation()},e}return Object(o.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{onClick:this.handleNo,className:"".concat(d.Mb," ").concat(d.Zb," ").concat(this.props.visible?d.Kc:d.Eb),children:Object(h.jsx)("div",{className:"".concat(d.Mb," ").concat(d.Cb),children:Object(h.jsxs)("article",{onClick:this.doNothing,className:"".concat(d.A," ").concat(d.Mb),children:[Object(h.jsx)("h3",{className:d.Nb,children:this.props.heading}),Object(h.jsx)("div",{className:d.Ob,children:this.props.message}),Object(h.jsxs)("div",{className:d.l,children:[Object(h.jsx)("button",{className:"".concat(d.i," ").concat(d.m," ").concat(d.w),onClick:this.handleYes,children:"Yes"}),Object(h.jsx)("button",{className:d.i+" "+d.q,onClick:this.handleNo,children:"No"})]})]})})})}}]),r}(p.a.Component)),S=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={country:null,qAnsVisible:!1,ansClicked:!1,clickedAns:"",score:d.uc,quitModalVisible:!1,helpVisible:!1},e.setClickedAns=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({clickedAns:r},(function(){e.props.saveToLocalStorage(d.L,e.state.clickedAns)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.decrementScore=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState((function(e){return{score:e.score-d.ac}}),(function(){e.props.saveToLocalStorage(d.tc,e.state.score)}));case 2:case"end":return t.stop()}}),t)}))),e.fetchCountrySetState=function(){var t=Object(s.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.fetchCountry(r);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(200===n.status){t.next=9;break}return console.error("Error fetching country"),console.error(n),t.abrupt("return");case 9:return t.next=11,e.setState({country:n.json.result},(function(){e.props.saveToLocalStorage(d.T,e.state.country)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClues=function(){return!(!e.state.country||!e.state.country.clues)&&e.state.country.clues},e.getQAns=function(){return!(!e.state.country||!e.state.country.question_ans)&&e.state.country.question_ans},e.setQAnsVisible=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({qAnsVisible:!0},Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.scroll(0,1200),e.props.saveToLocalStorage(d.hc,e.state.qAnsVisible);case 2:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)}))),e.setAnsClicked=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({ansClicked:!0},(function(){window.scroll(0,100),e.props.saveToLocalStorage(d.a,e.state.ansClicked)}));case 2:case"end":return t.stop()}}),t)}))),e.ansIsCorrect=function(){return!!e.state.country&&e.state.country.name===e.state.clickedAns},e.clearLocalCardState=function(){localStorage.removeItem(d.T),localStorage.removeItem(d.gc),localStorage.removeItem(d.tc),localStorage.removeItem(d.eb),localStorage.removeItem(d.hc),localStorage.removeItem(d.a),localStorage.removeItem(d.b),localStorage.removeItem(d.L),localStorage.removeItem(d.I)},e.loadCardStateFromLocalStorage=Object(s.a)(a.a.mark((function t(){var r,n,s,c,o,i,l,u,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadFromLocalStorage(d.T);case 2:if(null!==(r=t.sent)){t.next=5;break}return t.abrupt("return",!1);case 5:return n=d.uc,s=!1,c=!1,o="",t.prev=9,t.next=12,e.props.loadFromLocalStorage(d.tc);case 12:return null!==(i=t.sent)&&(n=parseInt(i)),t.next=16,e.props.loadFromLocalStorage(d.T);case 16:return r=t.sent,t.next=19,e.props.loadFromLocalStorage(d.hc);case 19:return"boolean"===typeof(l=t.sent)&&(s=l),t.next=23,e.props.loadFromLocalStorage(d.a);case 23:return null!==(u=t.sent)&&(c=u),t.next=27,e.props.loadFromLocalStorage(d.L);case 27:null!==(p=t.sent)&&(o=p),t.next=36;break;case 31:return t.prev=31,t.t0=t.catch(9),console.error("Error loading item for current card from local storage"),console.error(t.t0),t.abrupt("return",!1);case 36:return t.next=38,e.setState({country:r,qAnsVisible:s,ansClicked:c,clickedAns:o,score:n});case 38:return t.abrupt("return",!0);case 39:case"end":return t.stop()}}),t,null,[[9,31]])}))),e.loadCard=Object(s.a)(a.a.mark((function t(){var r,n,s,c,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(o.length>0&&void 0!==o[0])||o[0],(n=o.length>1?o[1]:void 0)&&(console.log("loadcard even handler "),console.log(n.target)),r){t.next=11;break}return console.log("Attempting to load card state from local storage"),t.next=7,e.loadCardStateFromLocalStorage();case 7:if(!t.sent){t.next=10;break}return console.log("Successfully loaded card state from local storage"),t.abrupt("return");case 10:console.log("Failed to load card state from local storage");case 11:return e.clearLocalCardState(),t.next=14,e.props.loadCard(r);case 14:return t.next=16,e.props.getCountryIDName();case 16:if((s=t.sent).id){t.next=19;break}return t.abrupt("return");case 19:return console.log(s),t.next=22,e.setState({country:null,qAnsVisible:!1,ansClicked:!1,clickedAns:"",score:d.uc},(function(){e.props.saveToLocalStorage(d.hc,e.state.qAnsVisible),e.props.saveToLocalStorage(d.tc,e.state.score)}));case 22:return c=s.id,t.next=25,e.fetchCountrySetState(c);case 25:case"end":return t.stop()}}),t)}))),e.updateScoreAndCount=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ansIsCorrect()){t.next=6;break}return t.next=3,e.props.incrementCorrect();case 3:return t.next=5,e.props.updateTotalScore(e.state.score);case 5:return t.abrupt("return");case 6:return t.next=8,e.setState({score:0},(function(){e.props.saveToLocalStorage(d.tc,e.state.score)}));case 8:case"end":return t.stop()}}),t)}))),e.showExitConfirm=function(t){t.preventDefault(),e.setState({quitModalVisible:!0})},e.handleQuitYes=function(){e.props.resetGame()},e.handleQuitNo=function(){e.setState({quitModalVisible:!1})},e.goback=function(e){e&&e.preventDefault(),window.location.href=d.sc},e.toggleViewHelp=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r&&r.preventDefault(),t.next=3,e.setState((function(e){return{helpVisible:!e.helpVisible}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUnhandledClick=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&(r.preventDefault(),r.stopPropagation()),console.log(r.target),!e.state.helpVisible){t.next=5;break}return t.next=5,e.setState({helpVisible:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.loadCard(!1)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:d.Zb+" "+d.B,onClick:this.handleUnhandledClick,children:[Object(h.jsx)("button",{className:d.i+" "+d.h+" "+d.j,onClick:this.goback,children:"\u226a Back"}),Object(h.jsx)("button",{className:d.i+" "+d.ob+" "+d.j+" "+(this.state.helpVisible&&d.k),onClick:this.toggleViewHelp,children:"?"}),Object(h.jsx)("section",{className:d.sb+" "+(this.state.helpVisible?d.yc:d.Bc),children:Object(h.jsx)(m.a,{})}),Object(h.jsxs)("article",{className:d.A,children:[Object(h.jsx)("button",{className:d.i+" "+d.p+" "+d.j+" "+(this.state.ansClicked?d.xc:d.yb),onClick:this.loadCard,children:this.props.lastCard()?Object(h.jsx)("span",{children:"View End Game Score \u226b"}):Object(h.jsx)("span",{children:"Next \u226b"})}),Object(h.jsx)(C,{handleYes:this.handleQuitYes,handleNo:this.handleQuitNo,visible:this.state.quitModalVisible,heading:d.mc,message:d.nc}),Object(h.jsx)("section",{className:d.D+" "+d.Dc,children:Object(h.jsx)(b,{ansClicked:this.state.ansClicked,country:this.state.country})}),Object(h.jsx)("section",{className:d.H+" "+d.Dc,children:Object(h.jsx)("div",{className:d.C+" "+d.nb,children:"Guess The Country"})}),Object(h.jsx)("section",{className:d.Dc+" "+d.ec,children:Object(h.jsxs)("div",{className:d.fc,children:["Question: ",this.props.index+1,"/",this.props.gameLength]})}),this.state.country?Object(h.jsxs)("div",{children:[Object(h.jsx)("section",{className:d.z+" "+d.Dc,children:Object(h.jsx)(j,{getClues:this.getClues})}),Object(h.jsx)("section",{className:d.Jc+" "+d.Dc,children:Object(h.jsx)("div",{className:d.Ic+" "+(this.state.qAnsVisible||this.state.ansClicked?d.yb:d.xc),children:Object(h.jsx)("button",{className:d.i+" "+d.Hc+" "+d.o,onClick:this.setQAnsVisible,children:"View more hints"})})}),Object(h.jsx)("section",{className:d.R+" "+d.Dc+" "+(this.state.ansClicked?d.xc:d.yb),children:Object(h.jsx)(k,{ansIsCorrect:this.ansIsCorrect,ansClicked:this.state.ansClicked})}),Object(h.jsx)("section",{className:d.y+" "+d.Dc,children:Object(h.jsx)(f,{countryID:this.state.country.id,countryName:this.state.country.name,updateScoreAndCount:this.updateScoreAndCount,setAnsClicked:this.setAnsClicked,ansClicked:this.state.ansClicked,clickedAns:this.state.clickedAns,setNetworkError:this.props.setNetworkError,loadFromLocalStorage:this.props.loadFromLocalStorage,saveToLocalStorage:this.props.saveToLocalStorage,setClickedAns:this.setClickedAns,fetchCountryList:this.props.fetchCountryList})}),Object(h.jsx)("section",{className:d.oc+" "+d.Dc,children:Object(h.jsx)(O,{getQAns:this.getQAns,ansClicked:this.state.ansClicked,score:this.state.score,decrementScore:this.decrementScore,loadFromLocalStorage:this.props.loadFromLocalStorage,saveToLocalStorage:this.props.saveToLocalStorage,qAnsVisible:this.state.qAnsVisible})}),Object(h.jsx)("section",{className:d.lc,children:Object(h.jsx)("button",{className:d.i+" "+d.t+" "+d.m,onClick:this.showExitConfirm,children:"Quit Game"})})]}):Object(h.jsxs)("div",{className:d.x+" "+d.Hb,children:[Object(h.jsx)("span",{className:d.Ib,children:"Loading data..."}),Object(h.jsx)(x.a,{width:9,height:2})]})]})]})}}]),r}(p.a.Component),w=(r(54),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).startNewGame=function(){e.props.resetGame(!0)},e.goToNewGamePage=function(){e.props.resetGame(!1)},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.clearAllLocalStorage()}},{key:"render",value:function(){return Object(h.jsxs)("section",{className:d.A+" "+d.U,children:[Object(h.jsx)("h1",{className:d.U+" "+d.nb,children:"End Game Score"}),Object(h.jsxs)("section",{className:d.W,children:[Object(h.jsx)("div",{children:"Thank you for playing!"}),Object(h.jsxs)("div",{children:["Out of ",Object(h.jsxs)("span",{className:d.lb,children:[this.props.gameLength," "]}),"questions, you answered",Object(h.jsxs)("span",{className:d.lb,children:[" ",this.props.totalCorrect," "]})," correctly."]}),Object(h.jsxs)("div",{children:["You scored a total of ",Object(h.jsx)("span",{className:d.lb,children:this.props.totalScore})," points."]})]}),Object(h.jsxs)("div",{className:d.U+" "+d.V,children:[Object(h.jsx)("button",{className:d.cc+" "+d.U+" "+d.i,onClick:this.startNewGame,children:"Play again"}),Object(h.jsx)("button",{className:d.kb+" "+d.U+" "+d.i,onClick:this.goToNewGamePage,children:"Go Home"})]})]})}}]),r}(p.a.Component)),y=r(43),N=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={countriesList:[],index:0,networkError:!1,totalCorrect:0,totalScore:0,inProgress:!1},e.incrementCorrect=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState((function(e){return{totalCorrect:e.totalCorrect+1}}),(function(){e.props.saveToLocalStorage(d.Ec,e.state.totalCorrect)}));case 2:case"end":return t.stop()}}),t)}))),e.lastCard=function(){return e.state.index+1===e.state.countriesList.length},e.updateTotalScore=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState((function(e){return{totalScore:e.totalScore+r}}),(function(){e.props.saveToLocalStorage(d.Fc,e.state.totalScore)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadCard=function(){var t=Object(s.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=3;break}return t.next=3,e.setState((function(e){return{index:e.index+1}}),(function(){e.props.saveToLocalStorage(d.Bb,e.state.index)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetGame=Object(s.a)(a.a.mark((function t(){var r,n=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]&&n[0],t.next=3,e.setState({countriesList:[],index:0,networkError:!1,totalCorrect:0,totalScore:0});case 3:if(e.props.clearAllLocalStorage(),!r){t.next=7;break}return window.location.reload(),t.abrupt("return");case 7:window.location.href=d.sc;case 8:case"end":return t.stop()}}),t)}))),e.getCountryIDName=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.index>=e.state.countriesList.length)){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",e.state.countriesList[e.state.index]);case 3:case"end":return t.stop()}}),t)}))),e.postData=Object(s.a)(a.a.mark((function e(){var t,r,n,s,c,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1&&void 0!==i[1]?i[1]:"",n=d.Kb+r,e.next=5,fetch(n,{method:d.dc,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return s=e.sent,e.next=8,s.json();case 8:return c=e.sent,e.next=11,s.status;case 11:return o=e.sent,e.abrupt("return",{json:c,status:o});case 13:case"end":return e.stop()}}),e)}))),e.fetchCardsList=function(){var t=Object(s.a)(a.a.mark((function t(r){var n,s,c,o,i,l=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:null,s={count:r},n&&(s.exclude=n),t.prev=3,t.next=6,e.postData(s,d.Y);case 6:if(500!==(c=t.sent).status){t.next=10;break}return e.setNetworkError(),t.abrupt("return");case 10:return 200!==c.status?(console.error("Couldn't fetch cards list"),console.error(c)):c.json.count!==r&&console.error("Requested ".concat(r," cards, server sent ").concat(c.json.count)),o=c.status,i=c.json,t.abrupt("return",{status:o,json:i});case 16:return t.prev=16,t.t0=t.catch(3),console.error("The following error occurred:"),console.error(t.t0),t.next=22,e.setState({networkError:!0},e.autoRefresh);case 22:return t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}(),e.fetchCountries=Object(s.a)(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCardsList(e.props.gameLength);case 2:if(!(r=t.sent)||200!==r.status){t.next=8;break}return n=r.json.result,console.log(n),t.next=8,e.setState({countriesList:n});case 8:case"end":return t.stop()}}),t)}))),e.fetchCountry=function(){var e=Object(s.a)(a.a.mark((function e(t){var r,n,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.Kb+d.X+"/".concat(t),e.prev=1,e.next=4,fetch(r,{method:d.jb,headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,console.log(s),e.next=11,n.status;case 11:return c=e.sent,e.abrupt("return",{json:s,status:c});case 15:return e.prev=15,e.t0=e.catch(1),console.error("The following error happened fetching country "+t),console.error(e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),e.refreshPage=function(){window.location.reload(!0)},e.autoRefresh=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.networkError){t.next=4;break}return t.next=3,Object(d.Oc)(20);case 3:e.refreshPage();case 4:case"end":return t.stop()}}),t)}))),e.loadFromLocalStorage=function(e){var t=localStorage.getItem(e);return null===t||""===t?t:JSON.parse(t)},e.loadGameFromLocalStorage=Object(s.a)(a.a.mark((function t(){var r,n,s,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loadFromLocalStorage(d.S);case 3:if(r=t.sent,console.log(r),r&&Array.isArray(r)&&0!==r.length){t.next=7;break}return t.abrupt("return",!1);case 7:return n=r.map((function(e){return{id:e.id,name:e.name}})),t.next=10,parseInt(e.loadFromLocalStorage(d.Bb));case 10:return s=t.sent,t.next=13,parseInt(e.loadFromLocalStorage(d.Ec));case 13:return c=t.sent,t.next=16,parseInt(e.loadFromLocalStorage(d.Fc));case 16:return o=t.sent,t.next=19,e.setState({countriesList:n,index:s,totalCorrect:c,totalScore:o});case 19:return t.abrupt("return",!0);case 22:return t.prev=22,t.t0=t.catch(0),console.error("Could not load game from local storage"),console.error(t.t0),t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t,null,[[0,22]])}))),e.loadGameState=Object(s.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=e.loadFromLocalStorage(d.Db))||!0!==r){t.next=10;break}return console.log("loading from local storage"),t.next=5,e.setState({inProgress:!0});case 5:return t.next=7,e.loadGameFromLocalStorage();case 7:if(!t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,e.setState({inProgress:!1});case 12:return t.next=14,e.fetchCountries();case 14:return t.next=16,e.saveGameState();case 16:case"end":return t.stop()}}),t)}))),e.saveGameState=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.saveToLocalStorage(d.S,e.state.countriesList),e.props.saveToLocalStorage(d.Bb,e.state.index),e.props.saveToLocalStorage(d.Ec,e.state.totalCorrect),e.props.saveToLocalStorage(d.Fc,e.state.totalScore),e.props.saveToLocalStorage(d.Db,!0);case 5:case"end":return t.stop()}}),t)}))),e.setNetworkError=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({networkError:!0});case 2:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.loadGameState()}},{key:"render",value:function(){return Object(h.jsx)("article",{className:d.hb,children:Object(h.jsx)(y.a,{children:this.state.networkError?Object(h.jsxs)("article",{className:d.Qb,children:[Object(h.jsx)("div",{className:d.Z,children:d.Pb}),Object(h.jsx)("button",{className:d.i,onClick:this.refreshPage,children:"Refresh Page"})]}):this.state.countriesList.length>0?Object(h.jsx)("section",{className:d.vc+" "+d.x,children:this.state.index<this.state.countriesList.length?Object(h.jsx)(S,{getCountryIDName:this.getCountryIDName,fetchCountry:this.fetchCountry,incrementCorrect:this.incrementCorrect,totalScore:this.state.totalScore,updateTotalScore:this.updateTotalScore,fetchCountryList:this.fetchCardsList,loadFromLocalStorage:this.loadFromLocalStorage,saveToLocalStorage:this.props.saveToLocalStorage,resetGame:this.resetGame,gameLength:this.state.countriesList.length,lastCard:this.lastCard,index:this.state.index,setNetworkError:this.setNetworkError,loadCard:this.loadCard}):Object(h.jsx)(w,{resetGame:this.resetGame,gameLength:this.props.gameLength,totalScore:this.state.totalScore,clearAllLocalStorage:this.props.clearAllLocalStorage,totalCorrect:this.state.totalCorrect})}):Object(h.jsxs)("div",{className:d.Hb,children:[Object(h.jsx)("span",{children:"Loading"}),Object(h.jsx)(x.a,{width:9,height:2})]})})})}}]),r}(p.a.Component)}}]);
//# sourceMappingURL=3.ef88b239.chunk.js.map